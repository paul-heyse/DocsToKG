## 1. Schema Consolidation
- [x] 1.1 Relocate all schema metadata into `src/DocsToKG/DocParsing/formats/__init__.py`: copy `SchemaVersion`, `SchemaKind`, `CHUNK_SCHEMA_VERSION`, `VECTOR_SCHEMA_VERSION`, `COMPATIBLE_CHUNK_VERSIONS`, `COMPATIBLE_VECTOR_VERSIONS`, `get_default_schema_version`, `get_compatible_versions`, `validate_schema_version`, and `ensure_chunk_schema` from `src/DocsToKG/DocParsing/schemas.py`, then delete the import block at lines 138-147 so `formats` no longer depends on `schemas`. Verify `__all__` exports continue to include these symbols.
- [x] 1.2 Replace the optional Pydantic import scaffold with a hard dependency: remove `PYDANTIC_AVAILABLE`, `_PYDANTIC_IMPORT_ERROR`, `_missing_pydantic_message()`, and the BaseModel/Field/validator stubs. At the top of `formats/__init__.py`, wrap the `from pydantic import ...` statement in `try/except ImportError as exc:` and raise `RuntimeError("DocsToKG.DocParsing requires pydantic>=2,<3; install it via `pip install \"pydantic>=2,<3\"`.") from exc`.
- [x] 1.3 Simplify validators to assume Pydantic is present: update `validate_chunk_row` and `_pydantic_validate_vector_row` to instantiate `ChunkRow` / `VectorRow` unconditionally (keeping the `ValueError` wrapping). Remove the guarded call sites (`if not PYDANTIC_AVAILABLE`) and ensure the module bottom calls `ChunkRow.model_rebuild()` / `VectorRow.model_rebuild()` without condition.
- [x] 1.4 Update internal imports to point at the canonical module: replace `DocsToKG.DocParsing.schemas` usage in `src/DocsToKG/DocParsing/embedding/runtime.py`, any utilities under `src/DocsToKG/DocParsing/io/`, and other modules surfaced by `rg -l "DocParsing.schemas" src` so they import from `DocsToKG.DocParsing.formats`. Confirm there are no residual references via `rg`.

## 2. Compatibility Shim & Guardrails
- [x] 2.1 Rewrite `src/DocsToKG/DocParsing/schemas.py` as a shim that imports everything from `DocsToKG.DocParsing.formats`, re-exports the public API, and issues `warnings.warn("DocsToKG.DocParsing.schemas is deprecated and will be removed in 0.3.0; import from DocsToKG.DocParsing.formats instead.", DeprecationWarning, stacklevel=2)`.
- [x] 2.2 Run `rg -l "DocParsing.schemas"` across the repository and migrate each real usage to `DocParsing.formats`, leaving only the shim module and archival docs. Update docs/tests that reference the legacy path: `docs/04-api/DocsToKG.DocParsing.formats.__init__.md`, `docs/06-operations/docparsing-changelog.md`, `src/DocsToKG/DocParsing/README.md`, `openspec/AGENTS.md`, `src/DocsToKG/DocParsing/AGENTS.md`, and any test comments.
- [x] 2.3 Add a regression test (e.g., `tests/docparsing/test_import_shim.py`) that imports representative DocParsing modules and asserts `DocsToKG.DocParsing.schemas` is not present in their `__dict__`. Complement with a lightweight lint (Python or shell) under `scripts/` that fails CI when `rg -l "DocParsing.schemas" src tests` returns paths other than the shim or explicitly whitelisted docs.

## 3. Tests & Dependency Stubs
- [x] 3.1 Remove the fake Pydantic package: delete `tests/docparsing/fake_deps/pydantic/**`, drop the entry from `_FAKE_MODULES` in `tests/docparsing/stubs.py`, and update `tests/docparsing/fake_deps/MIGRATION_NOTES.md` to note the removal.
- [x] 3.2 Update tests that simulated missing Pydantic: refactor `tests/docparsing/test_planning_streaming.py`, `tests/docparsing/test_fake_deps.py`, and any fixtures expecting optional behavior to reflect the mandatory dependency (they should no longer stub `pydantic_core` or `pydantic_settings` availability). Ensure validation tests directly exercise `validate_chunk_row` / `validate_vector_row` with real Pydantic.
- [x] 3.3 Audit build/test tooling (`pyproject.toml` optional extras, `noxfile.py`, `scripts/dev.sh`, `pytest.ini`, GitHub workflows) for conditionals about Pydantic availability and remove branches that assumed missing dependencies. Document the cleanup in CODEOWNERS/QA notes if applicable.

## 4. Documentation & Release Notes
- [x] 4.1 Update developer docs to state the hard requirement: revise `src/DocsToKG/DocParsing/README.md`, `src/DocsToKG/DocParsing/AGENTS.md`, `openspec/AGENTS.md`, and any quickstart guides to remove optional-dependency language and highlight the new import path plus shim retirement in 0.3.0.
- [x] 4.2 Regenerate API references: delete `docs/04-api/DocsToKG.DocParsing.schemas.md`, move relevant content into the `DocsToKG.DocParsing.formats` page, rebuild Sphinx (or the docs pipeline), and ensure navigation indexes reference the canonical module only.
- [x] 4.3 Add a changelog entry to `docs/06-operations/docparsing-changelog.md` (or the appropriate release note location) announcing the consolidation, the DeprecationWarning behavior, and the 0.3.0 removal timeline.
