# .envrc (safe & quiet)
VENVP="$PWD/.venv"

# Automatically activate the project virtual environment when present.
if [[ -d "$VENVP" ]]; then
    export VIRTUAL_ENV="$VENVP"
    PATH_add "$VIRTUAL_ENV/bin"
else
    echo "direnv warning: missing virtual environment at $VENVP" >&2
    echo "Run ./scripts/bootstrap_env.sh to create it." >&2
fi

# Make the source tree discoverable for agents that rely on PYTHONPATH.
export PYTHONPATH="$PWD/src${PYTHONPATH:+:$PYTHONPATH}"

# Load .env if present (direnv stdlib)
dotenv_if_exists
