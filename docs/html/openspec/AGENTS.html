

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OpenSpec Instructions &mdash; DocsToKG 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />


      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=8d563738"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
</head>

<body class="wy-body-for-nav">
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >



          <a href="../index.html" class="icon icon-home">
            DocsToKG
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../01-overview/index.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-setup/index.html">1. Setup Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-architecture/index.html">1. Architecture Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04-api/index.html">1. API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-development/index.html">1. Development Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06-operations/index.html">1. Operations Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07-reference/index.html">1. Technical Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DocsToKG</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">OpenSpec Instructions</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/openspec/AGENTS.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <section id="openspec-instructions">
<h1>OpenSpec Instructions<a class="headerlink" href="#openspec-instructions" title="Link to this heading"></a></h1>
<p>Instructions for AI coding assistants using OpenSpec for spec-driven development.</p>
<section id="tl-dr-quick-checklist">
<h2>TL;DR Quick Checklist<a class="headerlink" href="#tl-dr-quick-checklist" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Search existing work: <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">spec</span> <span class="pre">list</span> <span class="pre">--long</span></code>, <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">list</span></code> (use <code class="docutils literal notranslate"><span class="pre">rg</span></code> only for full-text search)</p></li>
<li><p>Decide scope: new capability vs modify existing capability</p></li>
<li><p>Pick a unique <code class="docutils literal notranslate"><span class="pre">change-id</span></code>: kebab-case, verb-led (<code class="docutils literal notranslate"><span class="pre">add-</span></code>, <code class="docutils literal notranslate"><span class="pre">update-</span></code>, <code class="docutils literal notranslate"><span class="pre">remove-</span></code>, <code class="docutils literal notranslate"><span class="pre">refactor-</span></code>)</p></li>
<li><p>Scaffold: <code class="docutils literal notranslate"><span class="pre">proposal.md</span></code>, <code class="docutils literal notranslate"><span class="pre">tasks.md</span></code>, <code class="docutils literal notranslate"><span class="pre">design.md</span></code> (only if needed), and delta specs per affected capability</p></li>
<li><p>Write deltas: use <code class="docutils literal notranslate"><span class="pre">##</span> <span class="pre">ADDED|MODIFIED|REMOVED|RENAMED</span> <span class="pre">Requirements</span></code>; include at least one <code class="docutils literal notranslate"><span class="pre">####</span> <span class="pre">Scenario:</span></code> per requirement</p></li>
<li><p>Validate: <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">validate</span> <span class="pre">[change-id]</span> <span class="pre">--strict</span></code> and fix issues</p></li>
<li><p>Request approval: Do not start implementation until proposal is approved</p></li>
</ul>
</section>
<section id="three-stage-workflow">
<h2>Three-Stage Workflow<a class="headerlink" href="#three-stage-workflow" title="Link to this heading"></a></h2>
<section id="stage-1-creating-changes">
<h3>Stage 1: Creating Changes<a class="headerlink" href="#stage-1-creating-changes" title="Link to this heading"></a></h3>
<p>Create proposal when you need to:</p>
<ul class="simple">
<li><p>Add features or functionality</p></li>
<li><p>Make breaking changes (API, schema)</p></li>
<li><p>Change architecture or patterns</p></li>
<li><p>Optimize performance (changes behavior)</p></li>
<li><p>Update security patterns</p></li>
</ul>
<p>Triggers (examples):</p>
<ul class="simple">
<li><p>“Help me create a change proposal”</p></li>
<li><p>“Help me plan a change”</p></li>
<li><p>“Help me create a proposal”</p></li>
<li><p>“I want to create a spec proposal”</p></li>
<li><p>“I want to create a spec”</p></li>
</ul>
<p>Loose matching guidance:</p>
<ul class="simple">
<li><p>Contains one of: <code class="docutils literal notranslate"><span class="pre">proposal</span></code>, <code class="docutils literal notranslate"><span class="pre">change</span></code>, <code class="docutils literal notranslate"><span class="pre">spec</span></code></p></li>
<li><p>With one of: <code class="docutils literal notranslate"><span class="pre">create</span></code>, <code class="docutils literal notranslate"><span class="pre">plan</span></code>, <code class="docutils literal notranslate"><span class="pre">make</span></code>, <code class="docutils literal notranslate"><span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">help</span></code></p></li>
</ul>
<p>Skip proposal for:</p>
<ul class="simple">
<li><p>Bug fixes (restore intended behavior)</p></li>
<li><p>Typos, formatting, comments</p></li>
<li><p>Dependency updates (non-breaking)</p></li>
<li><p>Configuration changes</p></li>
<li><p>Tests for existing behavior</p></li>
</ul>
<p><strong>Workflow</strong></p>
<ol class="arabic simple">
<li><p>Review <code class="docutils literal notranslate"><span class="pre">openspec/project.md</span></code>, <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">list</span></code>, and <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">list</span> <span class="pre">--specs</span></code> to understand current context.</p></li>
<li><p>Choose a unique verb-led <code class="docutils literal notranslate"><span class="pre">change-id</span></code> and scaffold <code class="docutils literal notranslate"><span class="pre">proposal.md</span></code>, <code class="docutils literal notranslate"><span class="pre">tasks.md</span></code>, optional <code class="docutils literal notranslate"><span class="pre">design.md</span></code>, and spec deltas under <code class="docutils literal notranslate"><span class="pre">openspec/changes/&lt;id&gt;/</span></code>.</p></li>
<li><p>Draft spec deltas using <code class="docutils literal notranslate"><span class="pre">##</span> <span class="pre">ADDED|MODIFIED|REMOVED</span> <span class="pre">Requirements</span></code> with at least one <code class="docutils literal notranslate"><span class="pre">####</span> <span class="pre">Scenario:</span></code> per requirement.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">validate</span> <span class="pre">&lt;id&gt;</span> <span class="pre">--strict</span></code> and resolve any issues before sharing the proposal.</p></li>
</ol>
</section>
<section id="stage-2-implementing-changes">
<h3>Stage 2: Implementing Changes<a class="headerlink" href="#stage-2-implementing-changes" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Read proposal.md</strong> - Understand what’s being built</p></li>
<li><p><strong>Read design.md</strong> (if exists) - Review technical decisions</p></li>
<li><p><strong>Read tasks.md</strong> - Get implementation checklist</p></li>
<li><p><strong>Implement tasks sequentially</strong> - Complete in order</p></li>
<li><p><strong>Mark complete immediately</strong> - Update <code class="docutils literal notranslate"><span class="pre">-</span> <span class="pre">[x]</span></code> after each task</p></li>
<li><p><strong>Approval gate</strong> - Do not start implementation until the proposal is reviewed and approved</p></li>
</ol>
</section>
<section id="stage-3-archiving-changes">
<h3>Stage 3: Archiving Changes<a class="headerlink" href="#stage-3-archiving-changes" title="Link to this heading"></a></h3>
<p>After deployment, create separate PR to:</p>
<ul class="simple">
<li><p>Move <code class="docutils literal notranslate"><span class="pre">changes/[name]/</span></code> → <code class="docutils literal notranslate"><span class="pre">changes/archive/YYYY-MM-DD-[name]/</span></code></p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">specs/</span></code> if capabilities changed</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">archive</span> <span class="pre">[change]</span> <span class="pre">--skip-specs</span></code> for tooling-only changes</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">validate</span> <span class="pre">--strict</span></code> to confirm the archived change passes checks</p></li>
</ul>
</section>
</section>
<section id="before-any-task">
<h2>Before Any Task<a class="headerlink" href="#before-any-task" title="Link to this heading"></a></h2>
<p><strong>Context Checklist:</strong></p>
<ul class="simple">
<li><p>[ ] Read relevant specs in <code class="docutils literal notranslate"><span class="pre">specs/[capability]/spec.md</span></code></p></li>
<li><p>[ ] Check pending changes in <code class="docutils literal notranslate"><span class="pre">changes/</span></code> for conflicts</p></li>
<li><p>[ ] Read <code class="docutils literal notranslate"><span class="pre">openspec/project.md</span></code> for conventions</p></li>
<li><p>[ ] Run <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">list</span></code> to see active changes</p></li>
<li><p>[ ] Run <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">list</span> <span class="pre">--specs</span></code> to see existing capabilities</p></li>
</ul>
<p><strong>Before Creating Specs:</strong></p>
<ul class="simple">
<li><p>Always check if capability already exists</p></li>
<li><p>Prefer modifying existing specs over creating duplicates</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">show</span> <span class="pre">[spec]</span></code> to review current state</p></li>
<li><p>If request is ambiguous, ask 1–2 clarifying questions before scaffolding</p></li>
</ul>
<section id="search-guidance">
<h3>Search Guidance<a class="headerlink" href="#search-guidance" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Enumerate specs: <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">spec</span> <span class="pre">list</span> <span class="pre">--long</span></code> (or <code class="docutils literal notranslate"><span class="pre">--json</span></code> for scripts)</p></li>
<li><p>Enumerate changes: <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">list</span></code> (or <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">change</span> <span class="pre">list</span> <span class="pre">--json</span></code> - deprecated but available)</p></li>
<li><p>Show details:</p>
<ul>
<li><p>Spec: <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">show</span> <span class="pre">&lt;spec-id&gt;</span> <span class="pre">--type</span> <span class="pre">spec</span></code> (use <code class="docutils literal notranslate"><span class="pre">--json</span></code> for filters)</p></li>
<li><p>Change: <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">show</span> <span class="pre">&lt;change-id&gt;</span> <span class="pre">--json</span> <span class="pre">--deltas-only</span></code></p></li>
</ul>
</li>
<li><p>Full-text search (use ripgrep): <code class="docutils literal notranslate"><span class="pre">rg</span> <span class="pre">-n</span> <span class="pre">&quot;Requirement:|Scenario:&quot;</span> <span class="pre">openspec/specs</span></code></p></li>
</ul>
</section>
</section>
<section id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading"></a></h2>
<section id="cli-commands">
<h3>CLI Commands<a class="headerlink" href="#cli-commands" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Essential commands</span>
openspec<span class="w"> </span>list<span class="w">                  </span><span class="c1"># List active changes</span>
openspec<span class="w"> </span>list<span class="w"> </span>--specs<span class="w">          </span><span class="c1"># List specifications</span>
openspec<span class="w"> </span>show<span class="w"> </span><span class="o">[</span>item<span class="o">]</span><span class="w">           </span><span class="c1"># Display change or spec</span>
openspec<span class="w"> </span>diff<span class="w"> </span><span class="o">[</span>change<span class="o">]</span><span class="w">         </span><span class="c1"># Show spec differences</span>
openspec<span class="w"> </span>validate<span class="w"> </span><span class="o">[</span>item<span class="o">]</span><span class="w">       </span><span class="c1"># Validate changes or specs</span>
openspec<span class="w"> </span>archive<span class="w"> </span><span class="o">[</span>change<span class="o">]</span><span class="w">      </span><span class="c1"># Archive after deployment</span>

<span class="c1"># Project management</span>
openspec<span class="w"> </span>init<span class="w"> </span><span class="o">[</span>path<span class="o">]</span><span class="w">           </span><span class="c1"># Initialize OpenSpec</span>
openspec<span class="w"> </span>update<span class="w"> </span><span class="o">[</span>path<span class="o">]</span><span class="w">         </span><span class="c1"># Update instruction files</span>

<span class="c1"># Interactive mode</span>
openspec<span class="w"> </span>show<span class="w">                  </span><span class="c1"># Prompts for selection</span>
openspec<span class="w"> </span>validate<span class="w">              </span><span class="c1"># Bulk validation mode</span>

<span class="c1"># Debugging</span>
openspec<span class="w"> </span>show<span class="w"> </span><span class="o">[</span>change<span class="o">]</span><span class="w"> </span>--json<span class="w"> </span>--deltas-only
openspec<span class="w"> </span>validate<span class="w"> </span><span class="o">[</span>change<span class="o">]</span><span class="w"> </span>--strict
</pre></div>
</div>
</section>
<section id="command-flags">
<h3>Command Flags<a class="headerlink" href="#command-flags" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--json</span></code> - Machine-readable output</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--type</span> <span class="pre">change|spec</span></code> - Disambiguate items</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--strict</span></code> - Comprehensive validation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--no-interactive</span></code> - Disable prompts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--skip-specs</span></code> - Archive without spec updates</p></li>
</ul>
</section>
</section>
<section id="directory-structure">
<h2>Directory Structure<a class="headerlink" href="#directory-structure" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>openspec/
├── project.md              # Project conventions
├── specs/                  # Current truth - what IS built
│   └── [capability]/       # Single focused capability
│       ├── spec.md         # Requirements and scenarios
│       └── design.md       # Technical patterns
├── changes/                # Proposals - what SHOULD change
│   ├── [change-name]/
│   │   ├── proposal.md     # Why, what, impact
│   │   ├── tasks.md        # Implementation checklist
│   │   ├── design.md       # Technical decisions (optional; see criteria)
│   │   └── specs/          # Delta changes
│   │       └── [capability]/
│   │           └── spec.md # ADDED/MODIFIED/REMOVED
│   └── archive/            # Completed changes
</pre></div>
</div>
</section>
<section id="creating-change-proposals">
<h2>Creating Change Proposals<a class="headerlink" href="#creating-change-proposals" title="Link to this heading"></a></h2>
<section id="decision-tree">
<h3>Decision Tree<a class="headerlink" href="#decision-tree" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>New request?
├─ Bug fix restoring spec behavior? → Fix directly
├─ Typo/format/comment? → Fix directly
├─ New feature/capability? → Create proposal
├─ Breaking change? → Create proposal
├─ Architecture change? → Create proposal
└─ Unclear? → Create proposal (safer)
</pre></div>
</div>
</section>
<section id="proposal-structure">
<h3>Proposal Structure<a class="headerlink" href="#proposal-structure" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Create directory:</strong> <code class="docutils literal notranslate"><span class="pre">changes/[change-id]/</span></code> (kebab-case, verb-led, unique)</p></li>
<li><p><strong>Write proposal.md:</strong></p></li>
</ol>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gu">## Why</span>
[1-2 sentences on problem/opportunity]

<span class="gu">## What Changes</span>
<span class="k">-</span><span class="w"> </span>[Bullet list of changes]
<span class="k">-</span><span class="w"> </span>[Mark breaking changes with <span class="gs">**BREAKING**</span>]

<span class="gu">## Impact</span>
<span class="k">-</span><span class="w"> </span>Affected specs: [list capabilities]
<span class="k">-</span><span class="w"> </span>Affected code: [key files/systems]
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p><strong>Create spec deltas:</strong> <code class="docutils literal notranslate"><span class="pre">specs/[capability]/spec.md</span></code></p></li>
</ol>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gu">## ADDED Requirements</span>
<span class="gu">### Requirement: New Feature</span>
The system SHALL provide...

<span class="gu">#### Scenario: Success case</span>
<span class="k">-</span><span class="w"> </span><span class="gs">**WHEN**</span> user performs action
<span class="k">-</span><span class="w"> </span><span class="gs">**THEN**</span> expected result

<span class="gu">## MODIFIED Requirements</span>
<span class="gu">### Requirement: Existing Feature</span>
[Complete modified requirement]

<span class="gu">## REMOVED Requirements</span>
<span class="gu">### Requirement: Old Feature</span>
<span class="gs">**Reason**</span>: [Why removing]
<span class="gs">**Migration**</span>: [How to handle]
</pre></div>
</div>
<p>If multiple capabilities are affected, create multiple delta files under <code class="docutils literal notranslate"><span class="pre">changes/[change-id]/specs/&lt;capability&gt;/spec.md</span></code>—one per capability.</p>
<ol class="arabic simple" start="4">
<li><p><strong>Create tasks.md:</strong></p></li>
</ol>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gu">## 1. Implementation</span>
<span class="k">- [ ]</span> 1.1 Create database schema
<span class="k">- [ ]</span> 1.2 Implement API endpoint
<span class="k">- [ ]</span> 1.3 Add frontend component
<span class="k">- [ ]</span> 1.4 Write tests
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p><strong>Create design.md when needed:</strong>
Create <code class="docutils literal notranslate"><span class="pre">design.md</span></code> if any of the following apply; otherwise omit it:</p></li>
</ol>
<ul class="simple">
<li><p>Cross-cutting change (multiple services/modules) or a new architectural pattern</p></li>
<li><p>New external dependency or significant data model changes</p></li>
<li><p>Security, performance, or migration complexity</p></li>
<li><p>Ambiguity that benefits from technical decisions before coding</p></li>
</ul>
<p>Minimal <code class="docutils literal notranslate"><span class="pre">design.md</span></code> skeleton:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gu">## Context</span>
[Background, constraints, stakeholders]

<span class="gu">## Goals / Non-Goals</span>
<span class="k">-</span><span class="w"> </span>Goals: [...]
<span class="k">-</span><span class="w"> </span>Non-Goals: [...]

<span class="gu">## Decisions</span>
<span class="k">-</span><span class="w"> </span>Decision: [What and why]
<span class="k">-</span><span class="w"> </span>Alternatives considered: [Options + rationale]

<span class="gu">## Risks / Trade-offs</span>
<span class="k">-</span><span class="w"> </span>[Risk] → Mitigation

<span class="gu">## Migration Plan</span>
[Steps, rollback]

<span class="gu">## Open Questions</span>
<span class="k">-</span><span class="w"> </span>[...]
</pre></div>
</div>
</section>
</section>
<section id="spec-file-format">
<h2>Spec File Format<a class="headerlink" href="#spec-file-format" title="Link to this heading"></a></h2>
<section id="critical-scenario-formatting">
<h3>Critical: Scenario Formatting<a class="headerlink" href="#critical-scenario-formatting" title="Link to this heading"></a></h3>
<p><strong>CORRECT</strong> (use #### headers):</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gu">#### Scenario: User login success</span>
<span class="k">-</span><span class="w"> </span><span class="gs">**WHEN**</span> valid credentials provided
<span class="k">-</span><span class="w"> </span><span class="gs">**THEN**</span> return JWT token
</pre></div>
</div>
<p><strong>WRONG</strong> (don’t use bullets or bold):</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="k">-</span><span class="w"> </span><span class="gs">**Scenario: User login**</span>  ❌
<span class="gs">**Scenario**</span>: User login     ❌
<span class="gu">### Scenario: User login      ❌</span>
</pre></div>
</div>
<p>Every requirement MUST have at least one scenario.</p>
</section>
<section id="requirement-wording">
<h3>Requirement Wording<a class="headerlink" href="#requirement-wording" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Use SHALL/MUST for normative requirements (avoid should/may unless intentionally non-normative)</p></li>
</ul>
</section>
<section id="delta-operations">
<h3>Delta Operations<a class="headerlink" href="#delta-operations" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">##</span> <span class="pre">ADDED</span> <span class="pre">Requirements</span></code> - New capabilities</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">##</span> <span class="pre">MODIFIED</span> <span class="pre">Requirements</span></code> - Changed behavior</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">##</span> <span class="pre">REMOVED</span> <span class="pre">Requirements</span></code> - Deprecated features</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">##</span> <span class="pre">RENAMED</span> <span class="pre">Requirements</span></code> - Name changes</p></li>
</ul>
<p>Headers matched with <code class="docutils literal notranslate"><span class="pre">trim(header)</span></code> - whitespace ignored.</p>
<section id="when-to-use-added-vs-modified">
<h4>When to use ADDED vs MODIFIED<a class="headerlink" href="#when-to-use-added-vs-modified" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>ADDED: Introduces a new capability or sub-capability that can stand alone as a requirement. Prefer ADDED when the change is orthogonal (e.g., adding “Slash Command Configuration”) rather than altering the semantics of an existing requirement.</p></li>
<li><p>MODIFIED: Changes the behavior, scope, or acceptance criteria of an existing requirement. Always paste the full, updated requirement content (header + all scenarios). The archiver will replace the entire requirement with what you provide here; partial deltas will drop previous details.</p></li>
<li><p>RENAMED: Use when only the name changes. If you also change behavior, use RENAMED (name) plus MODIFIED (content) referencing the new name.</p></li>
</ul>
<p>Common pitfall: Using MODIFIED to add a new concern without including the previous text. This causes loss of detail at archive time. If you aren’t explicitly changing the existing requirement, add a new requirement under ADDED instead.</p>
<p>Authoring a MODIFIED requirement correctly:</p>
<ol class="arabic simple">
<li><p>Locate the existing requirement in <code class="docutils literal notranslate"><span class="pre">openspec/specs/&lt;capability&gt;/spec.md</span></code>.</p></li>
<li><p>Copy the entire requirement block (from <code class="docutils literal notranslate"><span class="pre">###</span> <span class="pre">Requirement:</span> <span class="pre">...</span></code> through its scenarios).</p></li>
<li><p>Paste it under <code class="docutils literal notranslate"><span class="pre">##</span> <span class="pre">MODIFIED</span> <span class="pre">Requirements</span></code> and edit to reflect the new behavior.</p></li>
<li><p>Ensure the header text matches exactly (whitespace-insensitive) and keep at least one <code class="docutils literal notranslate"><span class="pre">####</span> <span class="pre">Scenario:</span></code>.</p></li>
</ol>
<p>Example for RENAMED:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gu">## RENAMED Requirements</span>
<span class="k">-</span><span class="w"> </span>FROM: <span class="sb">`### Requirement: Login`</span>
<span class="k">-</span><span class="w"> </span>TO: <span class="sb">`### Requirement: User Authentication`</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<section id="common-errors">
<h3>Common Errors<a class="headerlink" href="#common-errors" title="Link to this heading"></a></h3>
<p><strong>“Change must have at least one delta”</strong></p>
<ul class="simple">
<li><p>Check <code class="docutils literal notranslate"><span class="pre">changes/[name]/specs/</span></code> exists with .md files</p></li>
<li><p>Verify files have operation prefixes (## ADDED Requirements)</p></li>
</ul>
<p><strong>“Requirement must have at least one scenario”</strong></p>
<ul class="simple">
<li><p>Check scenarios use <code class="docutils literal notranslate"><span class="pre">####</span> <span class="pre">Scenario:</span></code> format (4 hashtags)</p></li>
<li><p>Don’t use bullet points or bold for scenario headers</p></li>
</ul>
<p><strong>Silent scenario parsing failures</strong></p>
<ul class="simple">
<li><p>Exact format required: <code class="docutils literal notranslate"><span class="pre">####</span> <span class="pre">Scenario:</span> <span class="pre">Name</span></code></p></li>
<li><p>Debug with: <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">show</span> <span class="pre">[change]</span> <span class="pre">--json</span> <span class="pre">--deltas-only</span></code></p></li>
</ul>
</section>
<section id="validation-tips">
<h3>Validation Tips<a class="headerlink" href="#validation-tips" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Always use strict mode for comprehensive checks</span>
openspec<span class="w"> </span>validate<span class="w"> </span><span class="o">[</span>change<span class="o">]</span><span class="w"> </span>--strict

<span class="c1"># Debug delta parsing</span>
openspec<span class="w"> </span>show<span class="w"> </span><span class="o">[</span>change<span class="o">]</span><span class="w"> </span>--json<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span><span class="s1">&#39;.deltas&#39;</span>

<span class="c1"># Check specific requirement</span>
openspec<span class="w"> </span>show<span class="w"> </span><span class="o">[</span>spec<span class="o">]</span><span class="w"> </span>--json<span class="w"> </span>-r<span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
</section>
</section>
<section id="happy-path-script">
<h2>Happy Path Script<a class="headerlink" href="#happy-path-script" title="Link to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1) Explore current state</span>
openspec<span class="w"> </span>spec<span class="w"> </span>list<span class="w"> </span>--long
openspec<span class="w"> </span>list
<span class="c1"># Optional full-text search:</span>
<span class="c1"># rg -n &quot;Requirement:|Scenario:&quot; openspec/specs</span>
<span class="c1"># rg -n &quot;^#|Requirement:&quot; openspec/changes</span>

<span class="c1"># 2) Choose change id and scaffold</span>
<span class="nv">CHANGE</span><span class="o">=</span>add-two-factor-auth
mkdir<span class="w"> </span>-p<span class="w"> </span>openspec/changes/<span class="nv">$CHANGE</span>/<span class="o">{</span>specs/auth<span class="o">}</span>
<span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;## Why\n...\n\n## What Changes\n- ...\n\n## Impact\n- ...\n&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>openspec/changes/<span class="nv">$CHANGE</span>/proposal.md
<span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;## 1. Implementation\n- [ ] 1.1 ...\n&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>openspec/changes/<span class="nv">$CHANGE</span>/tasks.md

<span class="c1"># 3) Add deltas (example)</span>
cat<span class="w"> </span>&gt;<span class="w"> </span>openspec/changes/<span class="nv">$CHANGE</span>/specs/auth/spec.md<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
<span class="s">## ADDED Requirements</span>
<span class="s">### Requirement: Two-Factor Authentication</span>
<span class="s">Users MUST provide a second factor during login.</span>

<span class="s">#### Scenario: OTP required</span>
<span class="s">- **WHEN** valid credentials are provided</span>
<span class="s">- **THEN** an OTP challenge is required</span>
<span class="s">EOF</span>

<span class="c1"># 4) Validate</span>
openspec<span class="w"> </span>validate<span class="w"> </span><span class="nv">$CHANGE</span><span class="w"> </span>--strict
</pre></div>
</div>
</section>
<section id="multi-capability-example">
<h2>Multi-Capability Example<a class="headerlink" href="#multi-capability-example" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>openspec/changes/add-2fa-notify/
├── proposal.md
├── tasks.md
└── specs/
    ├── auth/
    │   └── spec.md   # ADDED: Two-Factor Authentication
    └── notifications/
        └── spec.md   # ADDED: OTP email notification
</pre></div>
</div>
<p>auth/spec.md</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gu">## ADDED Requirements</span>
<span class="gu">### Requirement: Two-Factor Authentication</span>
...
</pre></div>
</div>
<p>notifications/spec.md</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gu">## ADDED Requirements</span>
<span class="gu">### Requirement: OTP Email Notification</span>
...
</pre></div>
</div>
</section>
<section id="best-practices">
<h2>Best Practices<a class="headerlink" href="#best-practices" title="Link to this heading"></a></h2>
<section id="simplicity-first">
<h3>Simplicity First<a class="headerlink" href="#simplicity-first" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Default to &lt;100 lines of new code</p></li>
<li><p>Single-file implementations until proven insufficient</p></li>
<li><p>Avoid frameworks without clear justification</p></li>
<li><p>Choose boring, proven patterns</p></li>
</ul>
</section>
<section id="complexity-triggers">
<h3>Complexity Triggers<a class="headerlink" href="#complexity-triggers" title="Link to this heading"></a></h3>
<p>Only add complexity with:</p>
<ul class="simple">
<li><p>Performance data showing current solution too slow</p></li>
<li><p>Concrete scale requirements (&gt;1000 users, &gt;100MB data)</p></li>
<li><p>Multiple proven use cases requiring abstraction</p></li>
</ul>
</section>
<section id="clear-references">
<h3>Clear References<a class="headerlink" href="#clear-references" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">file.ts:42</span></code> format for code locations</p></li>
<li><p>Reference specs as <code class="docutils literal notranslate"><span class="pre">specs/auth/spec.md</span></code></p></li>
<li><p>Link related changes and PRs</p></li>
</ul>
</section>
<section id="capability-naming">
<h3>Capability Naming<a class="headerlink" href="#capability-naming" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Use verb-noun: <code class="docutils literal notranslate"><span class="pre">user-auth</span></code>, <code class="docutils literal notranslate"><span class="pre">payment-capture</span></code></p></li>
<li><p>Single purpose per capability</p></li>
<li><p>10-minute understandability rule</p></li>
<li><p>Split if description needs “AND”</p></li>
</ul>
</section>
<section id="change-id-naming">
<h3>Change ID Naming<a class="headerlink" href="#change-id-naming" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Use kebab-case, short and descriptive: <code class="docutils literal notranslate"><span class="pre">add-two-factor-auth</span></code></p></li>
<li><p>Prefer verb-led prefixes: <code class="docutils literal notranslate"><span class="pre">add-</span></code>, <code class="docutils literal notranslate"><span class="pre">update-</span></code>, <code class="docutils literal notranslate"><span class="pre">remove-</span></code>, <code class="docutils literal notranslate"><span class="pre">refactor-</span></code></p></li>
<li><p>Ensure uniqueness; if taken, append <code class="docutils literal notranslate"><span class="pre">-2</span></code>, <code class="docutils literal notranslate"><span class="pre">-3</span></code>, etc.</p></li>
</ul>
</section>
</section>
<section id="tool-selection-guide">
<h2>Tool Selection Guide<a class="headerlink" href="#tool-selection-guide" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Task</p></th>
<th class="head"><p>Tool</p></th>
<th class="head"><p>Why</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Find files by pattern</p></td>
<td><p>Glob</p></td>
<td><p>Fast pattern matching</p></td>
</tr>
<tr class="row-odd"><td><p>Search code content</p></td>
<td><p>Grep</p></td>
<td><p>Optimized regex search</p></td>
</tr>
<tr class="row-even"><td><p>Read specific files</p></td>
<td><p>Read</p></td>
<td><p>Direct file access</p></td>
</tr>
<tr class="row-odd"><td><p>Explore unknown scope</p></td>
<td><p>Task</p></td>
<td><p>Multi-step investigation</p></td>
</tr>
</tbody>
</table>
</section>
<section id="error-recovery">
<h2>Error Recovery<a class="headerlink" href="#error-recovery" title="Link to this heading"></a></h2>
<section id="change-conflicts">
<h3>Change Conflicts<a class="headerlink" href="#change-conflicts" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">list</span></code> to see active changes</p></li>
<li><p>Check for overlapping specs</p></li>
<li><p>Coordinate with change owners</p></li>
<li><p>Consider combining proposals</p></li>
</ol>
</section>
<section id="validation-failures">
<h3>Validation Failures<a class="headerlink" href="#validation-failures" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Run with <code class="docutils literal notranslate"><span class="pre">--strict</span></code> flag</p></li>
<li><p>Check JSON output for details</p></li>
<li><p>Verify spec file format</p></li>
<li><p>Ensure scenarios properly formatted</p></li>
</ol>
</section>
<section id="missing-context">
<h3>Missing Context<a class="headerlink" href="#missing-context" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Read project.md first</p></li>
<li><p>Check related specs</p></li>
<li><p>Review recent archives</p></li>
<li><p>Ask for clarification</p></li>
</ol>
</section>
</section>
<section id="quick-reference">
<h2>Quick Reference<a class="headerlink" href="#quick-reference" title="Link to this heading"></a></h2>
<section id="stage-indicators">
<h3>Stage Indicators<a class="headerlink" href="#stage-indicators" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">changes/</span></code> - Proposed, not yet built</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">specs/</span></code> - Built and deployed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">archive/</span></code> - Completed changes</p></li>
</ul>
</section>
<section id="file-purposes">
<h3>File Purposes<a class="headerlink" href="#file-purposes" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">proposal.md</span></code> - Why and what</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tasks.md</span></code> - Implementation steps</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">design.md</span></code> - Technical decisions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spec.md</span></code> - Requirements and behavior</p></li>
</ul>
</section>
<section id="cli-essentials">
<h3>CLI Essentials<a class="headerlink" href="#cli-essentials" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>openspec<span class="w"> </span>list<span class="w">              </span><span class="c1"># What&#39;s in progress?</span>
openspec<span class="w"> </span>show<span class="w"> </span><span class="o">[</span>item<span class="o">]</span><span class="w">       </span><span class="c1"># View details</span>
openspec<span class="w"> </span>diff<span class="w"> </span><span class="o">[</span>change<span class="o">]</span><span class="w">     </span><span class="c1"># What&#39;s changing?</span>
openspec<span class="w"> </span>validate<span class="w"> </span>--strict<span class="w"> </span><span class="c1"># Is it correct?</span>
openspec<span class="w"> </span>archive<span class="w"> </span><span class="o">[</span>change<span class="o">]</span><span class="w">  </span><span class="c1"># Mark complete</span>
</pre></div>
</div>
<p>Remember: Specs are truth. Changes are proposals. Keep them in sync.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, DocsToKG Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>
