

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OpenSpec Change Proposal: Ontology Downloader &mdash; DocsToKG 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/custom.css" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=8d563738"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            DocsToKG
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../01-overview/index.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../02-setup/index.html">1. Setup Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../03-architecture/index.html">1. Architecture Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../04-api/index.html">1. API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../05-development/index.html">1. Development Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../06-operations/index.html">1. Operations Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../07-reference/index.html">1. Technical Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">DocsToKG</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">OpenSpec Change Proposal: Ontology Downloader</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/openspec/changes/archive/2025-10-14-add-ontology-downloader/SUMMARY.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="openspec-change-proposal-ontology-downloader">
<h1>OpenSpec Change Proposal: Ontology Downloader<a class="headerlink" href="#openspec-change-proposal-ontology-downloader" title="Link to this heading"></a></h1>
<section id="status">
<h2>Status<a class="headerlink" href="#status" title="Link to this heading"></a></h2>
<p>✅ <strong>Validated</strong> - Change proposal passes <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">validate</span> <span class="pre">--strict</span></code></p>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>This change proposal creates a comprehensive, production-ready ontology downloader for DocsToKG that can fetch, validate, and normalize ontologies from multiple heterogeneous sources using battle-tested Python libraries.</p>
</section>
<section id="change-id">
<h2>Change ID<a class="headerlink" href="#change-id" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">add-ontology-downloader</span></code></p>
</section>
<section id="metrics">
<h2>Metrics<a class="headerlink" href="#metrics" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>Requirements</strong>: 20 ADDED requirements</p></li>
<li><p><strong>Scenarios</strong>: 96 test scenarios</p></li>
<li><p><strong>Tasks</strong>: 151 implementation tasks across 20 phases</p></li>
<li><p><strong>Affected Capabilities</strong>: 1 new capability (<code class="docutils literal notranslate"><span class="pre">ontology-downloader</span></code>)</p></li>
</ul>
<section id="gap-analysis-enhancements">
<h3>Gap Analysis Enhancements<a class="headerlink" href="#gap-analysis-enhancements" title="Link to this heading"></a></h3>
<p>Following comprehensive gap analysis, added 7 requirements with 44 scenarios covering:</p>
<ul class="simple">
<li><p>Comprehensive error handling and recovery (10 scenarios)</p></li>
<li><p>Security and integrity validation (7 scenarios)</p></li>
<li><p>Performance constraints and resource management (5 scenarios)</p></li>
<li><p>Enhanced configuration schema (6 scenarios)</p></li>
<li><p>Multi-level logging with sensitive data protection (6 scenarios)</p></li>
<li><p>Cross-platform compatibility (5 scenarios)</p></li>
<li><p>User documentation and help (5 scenarios)</p></li>
</ul>
<p>Added 57 implementation tasks (sections 13-20) with explicit instructions for AI agents including function signatures, error message formats, platform-specific code, and test data requirements.</p>
</section>
</section>
<section id="key-features">
<h2>Key Features<a class="headerlink" href="#key-features" title="Link to this heading"></a></h2>
<section id="source-agnostic-resolver-registry">
<h3>1. Source-Agnostic Resolver Registry<a class="headerlink" href="#source-agnostic-resolver-registry" title="Link to this heading"></a></h3>
<p>Supports 5 resolver types:</p>
<ul class="simple">
<li><p><strong>OBO Library</strong> (via Bioregistry) - for OBO Foundry ontologies (GO, HP, UBERON, etc.)</p></li>
<li><p><strong>OLS4</strong> (via ols-client) - for EMBL-EBI Ontology Lookup Service</p></li>
<li><p><strong>BioPortal/OntoPortal</strong> (via ontoportal-client) - for NCBO ontologies</p></li>
<li><p><strong>SKOS/RDF</strong> (direct URLs) - for legal/financial thesauri (EuroVoc, etc.)</p></li>
<li><p><strong>XBRL</strong> (taxonomy packages) - for financial reporting standards</p></li>
</ul>
</section>
<section id="robust-http-handling">
<h3>2. Robust HTTP Handling<a class="headerlink" href="#robust-http-handling" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>ETag/Last-Modified conditional requests (HTTP 304 caching)</p></li>
<li><p>Range header resume for interrupted downloads</p></li>
<li><p>SHA-256 checksum verification</p></li>
<li><p>Exponential backoff retry (5 attempts, 0.5s base)</p></li>
<li><p>Per-host rate limiting (4 req/sec default)</p></li>
<li><p>Stream-to-.part pattern to avoid corrupted partials</p></li>
</ul>
</section>
<section id="multi-parser-validation">
<h3>3. Multi-Parser Validation<a class="headerlink" href="#multi-parser-validation" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>RDFLib</strong>: RDF/OWL/SKOS parsing, Turtle normalization</p></li>
<li><p><strong>Pronto</strong>: OBO/OWL validation, OBO Graph JSON export</p></li>
<li><p><strong>Owlready2</strong>: OWL reasoning checks</p></li>
<li><p><strong>ROBOT</strong> (optional): format conversions and SPARQL QC</p></li>
<li><p><strong>Arelle</strong>: XBRL taxonomy validation</p></li>
</ul>
</section>
<section id="comprehensive-provenance">
<h3>4. Comprehensive Provenance<a class="headerlink" href="#comprehensive-provenance" title="Link to this heading"></a></h3>
<p>Each downloaded ontology gets a <code class="docutils literal notranslate"><span class="pre">manifest.json</span></code> with:</p>
<ul class="simple">
<li><p>Source URL, resolver, version, license</p></li>
<li><p>ETag, Last-Modified, SHA-256 hash</p></li>
<li><p>Timestamps, file sizes, validation status</p></li>
<li><p>Target formats and validation outcomes</p></li>
</ul>
</section>
<section id="declarative-configuration">
<h3>5. Declarative Configuration<a class="headerlink" href="#declarative-configuration" title="Link to this heading"></a></h3>
<p>YAML-based <code class="docutils literal notranslate"><span class="pre">sources.yaml</span></code> with:</p>
<ul class="simple">
<li><p>Global defaults (license allowlists, format preferences, HTTP params)</p></li>
<li><p>Per-ontology specifications (ID, resolver, formats, extras)</p></li>
<li><p>License compliance enforcement (fail-closed for restricted)</p></li>
</ul>
</section>
<section id="pystow-based-storage">
<h3>6. pystow-Based Storage<a class="headerlink" href="#pystow-based-storage" title="Link to this heading"></a></h3>
<p>Organized directory structure at <code class="docutils literal notranslate"><span class="pre">~/.data/ontology-fetcher</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">configs</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">yaml</span>
<span class="n">cache</span><span class="o">/</span>                      <span class="c1"># HTTP cache, ETags</span>
<span class="n">logs</span><span class="o">/</span>                       <span class="c1"># Structured JSON logs</span>
<span class="n">ontologies</span><span class="o">/&lt;</span><span class="nb">id</span><span class="o">&gt;/&lt;</span><span class="n">version</span><span class="o">&gt;/</span>
  <span class="n">original</span><span class="o">/</span>                 <span class="c1"># Bit-exact downloaded files</span>
  <span class="n">normalized</span><span class="o">/</span>               <span class="c1"># Turtle, OBO Graph JSON</span>
  <span class="n">validation</span><span class="o">/</span>               <span class="c1"># Parser results, QC reports</span>
  <span class="n">manifest</span><span class="o">.</span><span class="n">json</span>             <span class="c1"># Provenance metadata</span>
</pre></div>
</div>
</section>
<section id="cli-interface">
<h3>7. CLI Interface<a class="headerlink" href="#cli-interface" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">ontofetch</span></code> command with subcommands:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pull</span> <span class="pre">[--spec</span> <span class="pre">FILE</span> <span class="pre">|</span> <span class="pre">ID...]</span></code> - Download ontologies</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">ID</span> <span class="pre">[--versions]</span></code> - Display manifests</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">validate</span> <span class="pre">ID[&#64;VERSION]</span></code> - Re-run validators</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--json</span></code> flag for machine-readable output</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--force</span></code> flag to bypass cache</p></li>
</ul>
</section>
<section id="observability">
<h3>8. Observability<a class="headerlink" href="#observability" title="Link to this heading"></a></h3>
<p>Structured JSON logging captures:</p>
<ul class="simple">
<li><p>Resolver planning time and URLs</p></li>
<li><p>HTTP status, elapsed time, retries, cache hits</p></li>
<li><p>Validation outcomes and error messages</p></li>
<li><p>Per-run summaries (success/failure/cached counts)</p></li>
</ul>
</section>
</section>
<section id="additional-requirements-from-gap-analysis">
<h2>Additional Requirements from Gap Analysis<a class="headerlink" href="#additional-requirements-from-gap-analysis" title="Link to this heading"></a></h2>
<section id="comprehensive-error-handling-and-recovery">
<h3>7. Comprehensive Error Handling and Recovery<a class="headerlink" href="#comprehensive-error-handling-and-recovery" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Network failures with retry logic and exponential backoff</p></li>
<li><p>Invalid credentials for restricted ontologies with remediation paths</p></li>
<li><p>Resolver API unavailability with graceful degradation</p></li>
<li><p>Disk space exhaustion with cleanup and clear errors</p></li>
<li><p>Corrupted downloads detected via checksum with automatic retry</p></li>
<li><p>Parser failures with detailed error capture</p></li>
<li><p>Configuration file errors with helpful messages</p></li>
<li><p>Permission errors with PYSTOW_HOME guidance</p></li>
<li><p>Timeouts on slow APIs with retry</p></li>
<li><p>Memory limit exceeded during large file parsing</p></li>
</ul>
</section>
<section id="security-and-integrity-validation">
<h3>8. Security and Integrity Validation<a class="headerlink" href="#security-and-integrity-validation" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>HTTPS enforcement with upgrade from HTTP</p></li>
<li><p>TLS certificate verification enabled by default</p></li>
<li><p>URL validation preventing SSRF to private IPs</p></li>
<li><p>API key masking in all logs</p></li>
<li><p>Safe filename sanitization preventing directory traversal</p></li>
<li><p>Maximum file size limit enforcement</p></li>
<li><p>ZIP bomb detection for XBRL taxonomies</p></li>
</ul>
</section>
<section id="performance-constraints-and-resource-management">
<h3>9. Performance Constraints and Resource Management<a class="headerlink" href="#performance-constraints-and-resource-management" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>HTTP request timeouts (30s API, 300s download)</p></li>
<li><p>Concurrent download limits with semaphore</p></li>
<li><p>Memory limit configuration for parsers</p></li>
<li><p>Streaming downloads for large files (&gt;100MB)</p></li>
<li><p>Parser timeouts to prevent hanging (60s default)</p></li>
</ul>
</section>
<section id="enhanced-configuration-schema">
<h3>10. Enhanced Configuration Schema<a class="headerlink" href="#enhanced-configuration-schema" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>All HTTP parameters configurable (retries, timeouts, backoff, rate limits)</p></li>
<li><p>Default values with explicit documentation</p></li>
<li><p>Environment variable overrides (ONTOFETCH_* pattern)</p></li>
<li><p>Per-ontology timeout overrides</p></li>
<li><p>Configuration validation with clear error messages</p></li>
<li><p>Required resolver parameters validation</p></li>
</ul>
</section>
<section id="multi-level-logging-with-sensitive-data-protection">
<h3>11. Multi-Level Logging with Sensitive Data Protection<a class="headerlink" href="#multi-level-logging-with-sensitive-data-protection" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Log levels (DEBUG, INFO, WARNING, ERROR) with appropriate verbosity</p></li>
<li><p>Structured JSON logs with parseable fields</p></li>
<li><p>Sensitive data masking (API keys, tokens, passwords)</p></li>
<li><p>Correlation IDs for batch operation tracing</p></li>
<li><p>Log rotation with compression and retention policies</p></li>
<li><p>Machine-readable logs for aggregators (ELK, Splunk)</p></li>
</ul>
</section>
<section id="cross-platform-compatibility">
<h3>12. Cross-Platform Compatibility<a class="headerlink" href="#cross-platform-compatibility" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Python 3.9+ requirement check at startup</p></li>
<li><p>pathlib.Path for platform-agnostic paths</p></li>
<li><p>Platform-specific timeout implementations (signal vs threading)</p></li>
<li><p>Dependency version constraints enforced</p></li>
<li><p>Tested on Linux, macOS, Windows</p></li>
</ul>
</section>
<section id="user-documentation-and-help">
<h3>13. User Documentation and Help<a class="headerlink" href="#user-documentation-and-help" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Comprehensive CLI help text with examples</p></li>
<li><p>Subcommand-specific help</p></li>
<li><p>Error messages with remediation steps</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ontofetch</span> <span class="pre">init</span></code> command for example configuration</p></li>
<li><p>Troubleshooting documentation</p></li>
<li><p>Configuration schema documentation with inline comments</p></li>
<li><p>YAML parse errors with line numbers</p></li>
</ul>
</section>
</section>
<section id="implementation-phases">
<h2>Implementation Phases<a class="headerlink" href="#implementation-phases" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><strong>Setup and Dependencies</strong> (4 tasks)</p></li>
<li><p><strong>Core Data Models</strong> (5 tasks)</p></li>
<li><p><strong>Resolver Implementations</strong> (7 tasks)</p></li>
<li><p><strong>Download Manager</strong> (10 tasks)</p></li>
<li><p><strong>Validation Pipeline</strong> (11 tasks)</p></li>
<li><p><strong>Storage and Manifests</strong> (6 tasks)</p></li>
<li><p><strong>Configuration</strong> (6 tasks)</p></li>
<li><p><strong>Orchestration</strong> (5 tasks)</p></li>
<li><p><strong>CLI</strong> (10 tasks)</p></li>
<li><p><strong>Testing</strong> (13 tasks)</p></li>
<li><p><strong>Documentation</strong> (8 tasks)</p></li>
<li><p><strong>Integration and Polish</strong> (10 tasks)</p></li>
<li><p><strong>Error Handling and Recovery</strong> (10 tasks)</p></li>
<li><p><strong>Security Implementation</strong> (8 tasks)</p></li>
<li><p><strong>Performance and Resource Management</strong> (6 tasks)</p></li>
<li><p><strong>Enhanced Configuration</strong> (5 tasks)</p></li>
<li><p><strong>Enhanced Logging System</strong> (6 tasks)</p></li>
<li><p><strong>Cross-Platform Compatibility</strong> (5 tasks)</p></li>
<li><p><strong>User Documentation and Help</strong> (7 tasks)</p></li>
<li><p><strong>Additional Testing for New Requirements</strong> (10 tasks)</p></li>
</ol>
</section>
<section id="dependencies-all-available-via-pip">
<h2>Dependencies (All Available via pip)<a class="headerlink" href="#dependencies-all-available-via-pip" title="Link to this heading"></a></h2>
<section id="discovery-access">
<h3>Discovery/Access<a class="headerlink" href="#discovery-access" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bioregistry</span></code> - Prefix resolution and download URLs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">oaklib</span></code> - Universal ontology adapter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ols-client</span></code> - OLS4 API client</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ontoportal-client</span></code> - BioPortal/OntoPortal API client</p></li>
</ul>
</section>
<section id="parsing-normalization">
<h3>Parsing/Normalization<a class="headerlink" href="#parsing-normalization" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rdflib</span></code> - RDF/OWL/SKOS parsing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pronto</span></code> - OBO/OWL validation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">owlready2</span></code> - OWL reasoning</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot</span></code> (optional, Java) - Conversions and QC</p></li>
</ul>
</section>
<section id="specialized-domains">
<h3>Specialized Domains<a class="headerlink" href="#specialized-domains" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">arelle</span></code> - XBRL taxonomy validation</p></li>
</ul>
</section>
<section id="infrastructure">
<h3>Infrastructure<a class="headerlink" href="#infrastructure" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pystow</span></code> - Data directory management</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pooch</span></code> - Download caching and hashing</p></li>
</ul>
</section>
</section>
<section id="design-decisions">
<h2>Design Decisions<a class="headerlink" href="#design-decisions" title="Link to this heading"></a></h2>
<section id="key-architectural-choices">
<h3>Key Architectural Choices<a class="headerlink" href="#key-architectural-choices" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Use battle-tested libraries</strong> over custom implementations (leverage community expertise)</p></li>
<li><p><strong>Protocol-based resolver registry</strong> for extensibility and testability</p></li>
<li><p><strong>Store original + normalized</strong> formats for reproducibility and tooling</p></li>
<li><p><strong>pooch for downloads</strong> (hash verification built-in)</p></li>
<li><p><strong>ols-client over ebi-ols-client</strong> (per user specification)</p></li>
<li><p><strong>ROBOT optional</strong> (requires Java runtime)</p></li>
<li><p><strong>Fail-closed license enforcement</strong> (explicit allowlist required)</p></li>
</ol>
</section>
<section id="trade-offs">
<h3>Trade-offs<a class="headerlink" href="#trade-offs" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Memory</strong>: Large ontologies (SNOMED, NCIT) may exhaust memory during reasoning → document limits, skip optional steps</p></li>
<li><p><strong>API Changes</strong>: External services may break → use maintained clients, monitor upstream</p></li>
<li><p><strong>Java Dependency</strong>: ROBOT requires JVM → make optional with runtime detection</p></li>
<li><p><strong>Rate Limits</strong>: Batch downloads may hit limits → exponential backoff, per-host throttling</p></li>
</ul>
</section>
</section>
<section id="files-created">
<h2>Files Created<a class="headerlink" href="#files-created" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>openspec/changes/add-ontology-downloader/
├── proposal.md              # Why, what, impact (this change)
├── design.md                # Technical decisions and architecture
├── tasks.md                 # 151 implementation tasks
├── specs/
│   └── ontology-downloader/
│       └── spec.md          # 20 requirements, 96 scenarios
└── SUMMARY.md               # This file
</pre></div>
</div>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Link to this heading"></a></h2>
<section id="before-implementation-required">
<h3>Before Implementation (Required)<a class="headerlink" href="#before-implementation-required" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>⚠️ <strong>Request approval</strong> - Do not start implementation until proposal is reviewed and approved</p></li>
<li><p>Review open questions in <code class="docutils literal notranslate"><span class="pre">design.md</span></code></p></li>
<li><p>Clarify any ambiguous requirements</p></li>
</ol>
</section>
<section id="during-implementation">
<h3>During Implementation<a class="headerlink" href="#during-implementation" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Follow tasks sequentially in <code class="docutils literal notranslate"><span class="pre">tasks.md</span></code></p></li>
<li><p>Mark tasks complete immediately with <code class="docutils literal notranslate"><span class="pre">-</span> <span class="pre">[x]</span></code></p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">validate</span> <span class="pre">add-ontology-downloader</span> <span class="pre">--strict</span></code> periodically</p></li>
<li><p>Write tests as you implement features (not after)</p></li>
</ol>
</section>
<section id="after-implementation">
<h3>After Implementation<a class="headerlink" href="#after-implementation" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Run integration smoke tests with real APIs</p></li>
<li><p>Create separate PR to archive change:</p>
<ul class="simple">
<li><p>Move to <code class="docutils literal notranslate"><span class="pre">changes/archive/YYYY-MM-DD-add-ontology-downloader/</span></code></p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">specs/ontology-downloader/spec.md</span></code> with final spec</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">archive</span> <span class="pre">add-ontology-downloader</span></code></p></li>
</ul>
</li>
</ol>
</section>
</section>
<section id="validation">
<h2>Validation<a class="headerlink" href="#validation" title="Link to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Validate change proposal</span>
openspec<span class="w"> </span>validate<span class="w"> </span>add-ontology-downloader<span class="w"> </span>--strict

<span class="c1"># View change details</span>
openspec<span class="w"> </span>show<span class="w"> </span>add-ontology-downloader

<span class="c1"># View delta JSON</span>
openspec<span class="w"> </span>show<span class="w"> </span>add-ontology-downloader<span class="w"> </span>--json<span class="w"> </span>--deltas-only
</pre></div>
</div>
</section>
<section id="reference-materials">
<h2>Reference Materials<a class="headerlink" href="#reference-materials" title="Link to this heading"></a></h2>
<p>The design is based on the detailed implementation blueprint provided, which includes:</p>
<ul class="simple">
<li><p>Concrete code skeletons using the specified libraries</p></li>
<li><p>Example workflows for HP (OBO), EFO (OLS), NCIT (BioPortal), EuroVoc (SKOS), IFRS (XBRL)</p></li>
<li><p>Testing strategy with unit/integration/smoke tests</p></li>
<li><p>Security considerations (zip-slip, license compliance, safe extraction)</p></li>
<li><p>Observability patterns (structured logs, provenance manifests)</p></li>
</ul>
</section>
<section id="questions-clarifications">
<h2>Questions/Clarifications<a class="headerlink" href="#questions-clarifications" title="Link to this heading"></a></h2>
<p>See <strong>Open Questions</strong> section in <code class="docutils literal notranslate"><span class="pre">design.md</span></code> for items requiring stakeholder input:</p>
<ul class="simple">
<li><p>Parallel vs. serial downloads for batch operations</p></li>
<li><p>Version retention policies</p></li>
<li><p>Validation failure handling (block vs. warn)</p></li>
<li><p>OAK adapter integration</p></li>
<li><p>Programmatic API exposure timing</p></li>
<li><p>Authentication patterns for restricted ontologies</p></li>
</ul>
<hr class="docutils" />
<p><strong>Generated</strong>: 2025-10-14
<strong>Validated</strong>: ✅ Passes <code class="docutils literal notranslate"><span class="pre">openspec</span> <span class="pre">validate</span> <span class="pre">--strict</span></code>
<strong>Status</strong>: Awaiting approval to begin implementation</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, DocsToKG Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>